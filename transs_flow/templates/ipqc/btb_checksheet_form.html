	{% extends 'base.html' %}
	{% block title %}BTB Fitment Checksheet{% endblock %}
	{% block content %}
	<div class="space-y-6">
	    <!-- Header -->
	    <div class="mb-6">
	        <h1 class="text-2xl font-bold text-gray-900">
	            <i class="fas fa-clipboard-check mr-3 text-blue-500"></i>
	            BTB Fitment Checksheet
	        </h1>
	        <p class="text-gray-600 mt-1">BTB (Board-to-Board) Fitment Quality Control</p>
	    </div>
	    <form method="post" id="btbForm" class="space-y-6">
	        {% csrf_token %}
	        <!-- Basic Info -->
	        <div class="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
	            <h2 class="text-lg font-bold mb-4 text-gray-900">
	                <i class="fas fa-info-circle mr-2 text-blue-500"></i>
	                Basic Information
	            </h2>
	            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
	                <div>
	                    <label class="block text-sm font-medium text-gray-700 mb-1">Date</label>
	                    <input type="date" name="date" value="{{ form.date.value|date:'Y-m-d' }}" readonly
	                           class="w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-700">
	                </div>
	                <div>
	                    <label class="block text-sm font-medium text-gray-700 mb-1">Shift</label>
	                    <input type="text" name="shift" value="{{ form.shift.value }}" readonly
	                           class="w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-700">
	                </div>
	                <div>
	                    <label class="block text-sm font-medium text-gray-700 mb-1">Line</label>
	                    <input type="text" name="line" value="{{ form.line.value }}" readonly
	                           class="w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-700">
	                </div>
	                <div>
	                    <label class="block text-sm font-medium text-gray-700 mb-1">Model</label>
	                    <input type="text" name="model" value="{{ form.model.value }}" readonly
	                           class="w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-gray-700">
	                </div>
	                <div>
	                    <label class="block text-sm font-medium text-gray-700 mb-1">Frequency</label>
	                    <input type="text" name="frequency" value="{{ form.frequency.value }}" 
	                           class="w-full px-3 py-2 bg-white border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900">
	                </div>
	            </div>
	        </div>
	        <!-- Data Entry Grid -->
	        <div class="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
	            <h2 class="text-lg font-bold mb-6 text-gray-900">
	                <i class="fas fa-th mr-2 text-purple-500"></i>
	                Hourly Data Entry
	            </h2>
	            <!-- Hour Headers -->
	            <div class="grid grid-cols-7 gap-2 mb-4 text-center">
	                <div class="text-xs font-semibold text-gray-500 uppercase tracking-wider">Hour</div>
	                <div class="text-xs font-semibold text-blue-600 uppercase tracking-wider">Input</div>
	                <div class="text-xs font-semibold text-green-600 uppercase tracking-wider">CAM BTB</div>
	                <div class="text-xs font-semibold text-blue-600 uppercase tracking-wider">LCD Fit</div>
	                <div class="text-xs font-semibold text-yellow-600 uppercase tracking-wider">Main FPC</div>
	                <div class="text-xs font-semibold text-orange-600 uppercase tracking-wider">Battery</div>
	                <div class="text-xs font-semibold text-pink-600 uppercase tracking-wider">Finger Print</div>
	            </div>
	            <!-- Data Rows -->
	            {% for hour in hours %}
	                <div class="grid grid-cols-7 gap-2 mb-2">
	                    <div class="bg-gray-50 p-2 rounded text-center">
	                        <span class="text-sm font-bold text-gray-700">{{ hour }}:00</span>
	                    </div>
	                    <input type="number" name="input_{{ hour }}" min="0" value="0"
	                           class="w-full px-2 py-2 bg-white border border-blue-300 rounded text-center text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
	                           onchange="calculateTotals()">
	                    <input type="number" name="cam_btb_{{ hour }}" min="0" value="0"
	                           class="w-full px-2 py-2 bg-white border border-green-300 rounded text-center text-gray-900 focus:ring-2 focus:ring-green-500 focus:border-green-500"
	                           onchange="calculateTotals()">
	                    <input type="number" name="lcd_fitment_{{ hour }}" min="0" value="0"
	                           class="w-full px-2 py-2 bg-white border border-blue-300 rounded text-center text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
	                           onchange="calculateTotals()">
	                    <input type="number" name="main_fpc_{{ hour }}" min="0" value="0"
	                           class="w-full px-2 py-2 bg-white border border-yellow-300 rounded text-center text-gray-900 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500"
	                           onchange="calculateTotals()">
	                    <input type="number" name="battery_{{ hour }}" min="0" value="0"
	                           class="w-full px-2 py-2 bg-white border border-orange-300 rounded text-center text-gray-900 focus:ring-2 focus:ring-orange-500 focus:border-orange-500"
	                           onchange="calculateTotals()">
	                    <input type="number" name="finger_printer_{{ hour }}" min="0" value="0"
	                           class="w-full px-2 py-2 bg-white border border-pink-300 rounded text-center text-gray-900 focus:ring-2 focus:ring-pink-500 focus:border-pink-500"
	                           onchange="calculateTotals()">
	                </div>
	            {% endfor %}
	            <!-- Total Row -->
	            <div class="grid grid-cols-7 gap-2 mt-4 pt-4 border-t border-gray-200">
	                <div class="bg-gray-100 p-2 rounded">
	                    <span class="text-sm font-bold text-gray-900">TOTAL</span>
	                </div>
	                <div class="bg-blue-50 p-2 rounded">
	                    <span id="input_total" class="text-sm font-bold text-blue-700">0</span>
	                </div>
	                <div class="bg-green-50 p-2 rounded">
	                    <span id="cam_btb_total" class="text-sm font-bold text-green-700">0</span>
	                </div>
	                <div class="bg-blue-50 p-2 rounded">
	                    <span id="lcd_fitment_total" class="text-sm font-bold text-blue-700">0</span>
	                </div>
	                <div class="bg-yellow-50 p-2 rounded">
	                    <span id="main_fpc_total" class="text-sm font-bold text-yellow-700">0</span>
	                </div>
	                <div class="bg-orange-50 p-2 rounded">
	                    <span id="battery_total" class="text-sm font-bold text-orange-700">0</span>
	                </div>
	                <div class="bg-pink-50 p-2 rounded">
	                    <span id="finger_printer_total" class="text-sm font-bold text-pink-700">0</span>
	                </div>
	                <div class="bg-gray-100 p-2 rounded">
	                    <span id="grand_total" class="text-lg font-bold text-gray-900">0</span>
	                </div>
	            </div>
	        </div>
	        <!-- Remarks Section -->
	        <div class="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
	            <h2 class="text-lg font-bold mb-4 text-gray-900">
	                <i class="fas fa-comment-alt mr-2 text-purple-500"></i>
	                Remarks
	            </h2>
	            <div class="space-y-4">
	                <div>
	                    <label class="block text-sm font-medium text-gray-700 mb-1">Input Remarks</label>
	                    <textarea name="remark_input" rows="3" 
	                              class="w-full px-4 py-3 bg-white border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900"
	                              placeholder="Enter input related remarks..."></textarea>
	                </div>
	                <div>
	                    <label class="block text-sm font-medium text-gray-700 mb-1">CAM BTB Remarks</label>
	                    <textarea name="remark_cam_btb" rows="3" 
	                              class="w-full px-4 py-3 bg-white border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-900"
	                              placeholder="Enter CAM BTB related remarks..."></textarea>
	                </div>
	                <div>
	                    <label class="block text-sm font-medium text-gray-700 mb-1">LCD Fitment Remarks</label>
	                    <textarea name="remark_lcd_fitment" rows="3" 
	                              class="w-full px-4 py-3 bg-white border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900"
	                              placeholder="Enter LCD fitment related remarks..."></textarea>
	                </div>
	                <div>
	                    <label class="block text-sm font-medium text-gray-700 mb-1">Main FPC Remarks</label>
	                    <textarea name="remark_main_fpc" rows="3" 
	                              class="w-full px-4 py-3 bg-white border border-yellow-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 text-gray-900"
	                              placeholder="Enter main FPC related remarks..."></textarea>
	                </div>
	                <div>
	                    <label class="block text-sm font-medium text-gray-700 mb-1">Battery Remarks</label>
	                    <textarea name="remark_battery" rows="3" 
	                              class="w-full px-4 py-3 bg-white border border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900"
	                              placeholder="Enter battery related remarks..."></textarea>
	                </div>
	                <div>
	                    <label class="block text-sm font-medium text-gray-700 mb-1">Finger Printer Remarks</label>
	                    <textarea name="remark_finger_printer" rows="3" 
	                              class="w-full px-4 py-3 bg-white border border-pink-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-gray-900"
	                              placeholder="Enter finger printer related remarks..."></textarea>
	                </div>
	            </div>
	        </div>
	        <!-- Submit Button -->
	        <div class="flex justify-center mt-8">
	            <button type="submit" 
	                    class="btn btn-primary px-8 py-3 text-white font-semibold rounded-lg hover:bg-blue-700 transform transition-all duration-200 shadow-md hover:shadow-lg">
	                <i class="fas fa-save mr-2"></i>
	                Submit BTB Checksheet
	            </button>
	        </div>
	    </form>
	</div>
	<script>
	    function calculateTotals() {
	        const hours = ['9','10','11','12','1','2','3','4','5','6'];
	        let inputTotal = 0;
	        let camBtbTotal = 0;
	        let lcdFitmentTotal = 0;
	        let mainFpcTotal = 0;
	        let batteryTotal = 0;
	        let fingerPrinterTotal = 0;
	        let grandTotal = 0;
	        hours.forEach(hour => {
	            inputTotal += parseInt(document.querySelector(`input[name="input_${hour}"]`).value) || 0;
	            camBtbTotal += parseInt(document.querySelector(`input[name="cam_btb_${hour}"]`).value) || 0;
	            lcdFitmentTotal += parseInt(document.querySelector(`input[name="lcd_fitment_${hour}"]`).value) || 0;
	            mainFpcTotal += parseInt(document.querySelector(`input[name="main_fpc_${hour}"]`).value) || 0;
	            batteryTotal += parseInt(document.querySelector(`input[name="battery_${hour}"]`).value) || 0;
	            fingerPrinterTotal += parseInt(document.querySelector(`input[name="finger_printer_${hour}"]`).value) || 0;
	        });
	        grandTotal = camBtbTotal + lcdFitmentTotal + mainFpcTotal + batteryTotal + fingerPrinterTotal;
	        document.getElementById('input_total').textContent = inputTotal;
	        document.getElementById('cam_btb_total').textContent = camBtbTotal;
	        document.getElementById('lcd_fitment_total').textContent = lcdFitmentTotal;
	        document.getElementById('main_fpc_total').textContent = mainFpcTotal;
	        document.getElementById('battery_total').textContent = batteryTotal;
	        document.getElementById('finger_printer_total').textContent = fingerPrinterTotal;
	        document.getElementById('grand_total').textContent = grandTotal;
	        // Add animation effect
	        ['input_total', 'cam_btb_total', 'lcd_fitment_total', 'main_fpc_total', 
	         'battery_total', 'finger_printer_total', 'grand_total'].forEach(id => {
	            const element = document.getElementById(id);
	            element.style.transform = 'scale(1.1)';
	            element.style.transition = 'transform 0.2s ease';
	            setTimeout(() => {
	                element.style.transform = 'scale(1)';
	            }, 200);
	        });
	    }
	</script>
	{% endblock %}