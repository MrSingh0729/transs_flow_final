{% extends 'base.html' %}
{% load form_filters %}
{% block title %}Report Issue{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto bg-white p-6 rounded-xl shadow">

    <h1 class="text-2xl font-bold mb-6">Report New Issue</h1>

    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- ISSUE NAME -->
        <label class="block font-semibold mb-1">Issue Name</label>
        {{ form.issue_name|add_class:"w-full border p-2 rounded mb-4" }}

        <!-- DESCRIPTION -->
        <label class="block font-semibold mb-1">Description</label>
        {{ form.description|add_class:"w-full border p-2 rounded mb-4 h-28" }}

        <!-- SEVERITY -->
        <label class="block font-semibold mb-1">Severity</label>
        {{ form.severity|add_class:"w-full border p-2 rounded mb-4" }}

        <h3 class="mt-6 mb-3 font-bold text-lg">Responsibility</h3>

        <!-- LINE LEADER + OPERATOR ID -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label class="block font-semibold mb-1">Line Leader</label>
                {{ form.line_leader|add_class:"w-full border p-2 rounded" }}
            </div>

            <div>
                <label class="block font-semibold mb-1">Operator ID (optional)</label>
                {{ form.operator_id|add_class:"w-full border p-2 rounded" }}
            </div>
        </div>

        <!-- IMAGE UPLOAD -->
        <label class="block font-semibold mt-6 mb-2">Upload Images</label>
        <input type="file" name="images" multiple accept="image/*" capture="camera"
               class="border p-2 rounded w-full">

        <!-- SUBMIT BUTTON -->
        <button class="w-full bg-blue-600 text-white p-3 rounded-lg mt-6 hover:bg-blue-700">
            Submit Issue
        </button>
    </form>

</div>
{% endblock %}
